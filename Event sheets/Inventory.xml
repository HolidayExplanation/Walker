<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Inventory</name>
    <events>
        <event-group description="" sid="693169646441940" title="Cursor over Slot">
            <sub-events>
                <event-block sid="581839792051097">
                    <conditions>
                        <condition id="3" name="Compare frame" sid="397300740438032" type="SlotBackground">
                            <param id="0" name="Comparison">1</param>
                            <param id="1" name="Number">2</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="820529966394721">
                            <conditions>
                                <condition id="7" name="Cursor is over object" sid="913963306768445" type="Mouse">
                                    <param id="0" name="Object">SlotBackground</param>
                                </condition>
                                <condition id="3" name="Compare frame" sid="515261933046248" type="SlotBackground">
                                    <param id="0" name="Comparison">0</param>
                                    <param id="1" name="Number">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="5" name="Set frame" sid="714947092188740" type="SlotBackground">
                                    <param id="0" name="Frame number">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="321213146589094">
                            <conditions>
                                <condition id="-11" name="For Each" sid="663511413849035" type="System">
                                    <param id="0" name="Object">SlotBackground</param>
                                </condition>
                                <condition id="3" name="Compare frame" sid="237698044958468" type="SlotBackground">
                                    <param id="0" name="Comparison">0</param>
                                    <param id="1" name="Number">1</param>
                                </condition>
                                <condition id="7" inverted="1" name="Cursor is over object" sid="605013310226799" type="Mouse">
                                    <param id="0" name="Object">SlotBackground</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="5" name="Set frame" sid="302136602215932" type="SlotBackground">
                                    <param id="0" name="Frame number">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="387905302902244" title="Toggle Backpack Inventory">
            <sub-events>
                <event-block sid="300117790906883">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="669749407466599" type="Keyboard">
                            <param id="0" name="Key">66</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="253174952787035">
                            <conditions>
                                <condition id="-24" name="For Each (ordered)" sid="947304144761399" type="System">
                                    <param id="0" name="Object">SlotBackground</param>
                                    <param id="1" name="Expression">SlotBackground.ID</param>
                                    <param id="2" name="Order">0</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="658716461674760">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="333813526694845" type="SlotBackground">
                                            <param id="0" name="Instance variable">ID</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Value">6</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="151965201535528" type="SlotBackground">
                                            <param id="0" name="Instance variable">ID</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Value">15</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="664560579979397">
                                            <conditions>
                                                <condition id="-9" name="Is visible" sid="322936956095320" type="SlotBackground" />
                                            </conditions>
                                            <actions>
                                                <action id="-15" name="Set visible" sid="219788729834488" type="SlotBackground">
                                                    <param id="0" name="Visibility">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="696715285197076">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="272282079054253" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="-15" name="Set visible" sid="560810593022713" type="SlotBackground">
                                                    <param id="0" name="Visibility">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="373206752567399">
                            <conditions>
                                <condition id="-24" name="For Each (ordered)" sid="383875279266842" type="System">
                                    <param id="0" name="Object">Slot</param>
                                    <param id="1" name="Expression">Slot.ID</param>
                                    <param id="2" name="Order">0</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="101965239394684">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="779047731163999" type="Slot">
                                            <param id="0" name="Instance variable">ID</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Value">6</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="533861280972145" type="Slot">
                                            <param id="0" name="Instance variable">ID</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Value">15</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="906918465571263">
                                            <conditions>
                                                <condition id="-9" name="Is visible" sid="288678402210149" type="Slot" />
                                            </conditions>
                                            <actions>
                                                <action id="-15" name="Set visible" sid="774641927005895" type="Slot">
                                                    <param id="0" name="Visibility">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="964282315623401">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="540006228446364" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="-15" name="Set visible" sid="827948982636198" type="Slot">
                                                    <param id="0" name="Visibility">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="921368140016998">
                            <conditions>
                                <condition id="-24" name="For Each (ordered)" sid="116418855791598" type="System">
                                    <param id="0" name="Object">SlotText</param>
                                    <param id="1" name="Expression">Slot.ID</param>
                                    <param id="2" name="Order">0</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="760064727464704">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="283384079311686" type="SlotText">
                                            <param id="0" name="Instance variable">ID</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Value">6</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="158853459699294" type="SlotText">
                                            <param id="0" name="Instance variable">ID</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Value">15</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="588529953645999">
                                            <conditions>
                                                <condition id="-9" name="Is visible" sid="829650901114058" type="SlotText" />
                                            </conditions>
                                            <actions>
                                                <action id="-15" name="Set visible" sid="651026985835446" type="SlotText">
                                                    <param id="0" name="Visibility">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="181825628489156">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="631780914474188" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="-15" name="Set visible" sid="383340691296573" type="SlotText">
                                                    <param id="0" name="Visibility">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="101835822426234" title="Set Backpack Inventory as Locked on Runtime">
            <sub-events>
                <event-block sid="758558466249785">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="130344320823199" type="System" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <variable constant="0" name="i" sid="840125694961052" static="0" type="number">0</variable>
                        <event-block sid="461305081185945">
                            <conditions>
                                <condition id="-12" name="Repeat" sid="111614707803519" type="System">
                                    <param id="0" name="Count">10</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="3" name="Set at XY" sid="671471570149157" type="arrInventory">
                                    <param id="0" name="X">6 + i</param>
                                    <param id="1" name="Y">2</param>
                                    <param id="2" name="Value">1</param>
                                </action>
                                <action id="-10" name="Add to" sid="350714732337964" type="System">
                                    <param id="0" name="Variable">i</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-16" name="Wait" sid="355827751300499" type="System">
                                    <param id="0" name="Seconds">1.0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <variable constant="0" name="slotFound" sid="505779698588356" static="0" type="number">0</variable>
        <event-block sid="975889176484158">
            <conditions>
                <condition id="6" name="On object clicked" sid="221151579738236" type="Mouse">
                    <param id="0" name="Mouse button">0</param>
                    <param id="1" name="Click type">0</param>
                    <param id="2" name="Object clicked">Item</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Set value" sid="853288188000115" type="System">
                    <param id="0" name="Variable">slotFound</param>
                    <param id="1" name="Value">0</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="705684997866175">
                    <conditions>
                        <condition id="-24" name="For Each (ordered)" sid="120291170812493" type="System">
                            <param id="0" name="Object">Slot</param>
                            <param id="1" name="Expression">Slot.ID</param>
                            <param id="2" name="Order">0</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <comment>Slot is not Locked</comment>
                        <event-block sid="728259783637665">
                            <conditions>
                                <condition id="1" name="Compare at XY" sid="634933326706593" type="arrInventory">
                                    <param id="0" name="X">Slot.ID</param>
                                    <param id="1" name="Y">2</param>
                                    <param id="2" name="Comparison">0</param>
                                    <param id="3" name="Value">0</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="484528730917444" type="System">
                                    <param id="0" name="Variable">slotFound</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <comment>Slot has same Item</comment>
                                <event-block sid="104724357462530">
                                    <conditions>
                                        <condition id="1" name="Compare at XY" sid="723046551445451" type="arrInventory">
                                            <param id="0" name="X">Slot.ID</param>
                                            <param id="1" name="Y">0</param>
                                            <param id="2" name="Comparison">0</param>
                                            <param id="3" name="Value">Item.AnimationFrame</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="3" name="Set at XY" sid="495862348764374" type="arrInventory">
                                            <param id="0" name="X">Slot.ID</param>
                                            <param id="1" name="Y">1</param>
                                            <param id="2" name="Value">arrInventory.At(Slot.ID, 1) + Item.Amount</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="943135076152032" type="System">
                                            <param id="0" name="Variable">slotFound</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <comment>Slot is empty</comment>
                                <event-block sid="776055009899836">
                                    <conditions>
                                        <condition id="1" name="Compare at XY" sid="554333167705655" type="arrInventory">
                                            <param id="0" name="X">Slot.ID</param>
                                            <param id="1" name="Y">0</param>
                                            <param id="2" name="Comparison">0</param>
                                            <param id="3" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="3" name="Set at XY" sid="489705027095408" type="arrInventory">
                                            <param id="0" name="X">Slot.ID</param>
                                            <param id="1" name="Y">0</param>
                                            <param id="2" name="Value">Item.AnimationFrame</param>
                                        </action>
                                        <action id="3" name="Set at XY" sid="268995581238040" type="arrInventory">
                                            <param id="0" name="X">Slot.ID</param>
                                            <param id="1" name="Y">1</param>
                                            <param id="2" name="Value">Item.Amount</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="797409460412398" type="System">
                                            <param id="0" name="Variable">slotFound</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="559204794368367">
                            <conditions />
                            <actions>
                                <action id="0" name="Call function" sid="833758487326975" type="Function">
                                    <param id="0" name="Name">&quot;UpdateInventory&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="492426147325921">
            <conditions>
                <condition id="0" name="On function" sid="597951981287266" type="Function">
                    <param id="0" name="Name">&quot;UpdateInventory&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="842643730129365">
                    <conditions>
                        <condition id="-24" name="For Each (ordered)" sid="665566885439190" type="System">
                            <param id="0" name="Object">Slot</param>
                            <param id="1" name="Expression">Slot.ID</param>
                            <param id="2" name="Order">0</param>
                        </condition>
                        <condition id="-9" name="Is visible" sid="281243621814201" type="Slot" />
                    </conditions>
                    <actions>
                        <action id="5" name="Set frame" sid="875868994630492" type="Slot">
                            <param id="0" name="Frame number">arrInventory.At(Slot.ID, 0)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="622236430555064">
                    <conditions>
                        <condition id="-24" name="For Each (ordered)" sid="356701454044965" type="System">
                            <param id="0" name="Object">SlotText</param>
                            <param id="1" name="Expression">SlotText.ID</param>
                            <param id="2" name="Order">0</param>
                        </condition>
                        <condition id="-9" name="Is visible" sid="980626804772974" type="SlotText" />
                    </conditions>
                    <actions>
                        <action id="0" name="Set text" sid="178138324431801" type="SlotText">
                            <param id="0" name="Text">arrInventory.At(SlotText.ID, 1)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
    </events>
</c2eventsheet>
